@page "/account-help"
@using MudBlazor

<PageTitle>Account Selection Help</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large" Class="mt-4">
    <MudCard>
        <MudCardHeader>
            <CardHeaderContent>
                <MudText Typo="Typo.h4">
                    <MudIcon Icon="@Icons.Material.Filled.AccountCircle" Class="me-2" />
                    Account Selection Help
                </MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudAlert Severity="Severity.Info" Class="mb-4">
                <MudText Typo="Typo.body1">
                    If you're having trouble accessing Azure DevOps with the correct account, use the "Switch Account" feature.
                </MudText>
            </MudAlert>

            <MudText Typo="Typo.h6" Class="mb-3">Common Account Issues</MudText>
            <MudList T="string">
                <MudListItem T="string" Icon="@Icons.Material.Filled.Warning" IconColor="Color.Warning">
                    <MudText>
                        <strong>Multiple Microsoft Accounts:</strong> Your browser might automatically select a personal Microsoft account instead of your work/school account.
                    </MudText>
                </MudListItem>
                <MudListItem T="string" Icon="@Icons.Material.Filled.Block" IconColor="Color.Error">
                    <MudText>
                        <strong>Access Denied:</strong> The selected account doesn't have access to your organization's Azure DevOps.
                    </MudText>
                </MudListItem>
                <MudListItem T="string" Icon="@Icons.Material.Filled.Security" IconColor="Color.Primary">
                    <MudText>
                        <strong>Wrong Tenant:</strong> You're authenticated with the wrong Azure Active Directory tenant.
                    </MudText>
                </MudListItem>
            </MudList>

            <MudText Typo="Typo.h6" Class="mb-3 mt-4">How to Switch Accounts</MudText>
            
            <MudPaper Class="pa-4 mb-4">
                <MudGrid>
                    <MudItem xs="12" sm="6" md="3">
                        <MudCard Elevation="2" Class="h-100">
                            <MudCardContent Class="text-center">
                                <MudIcon Icon="@Icons.Material.Filled.AccountCircle" Size="Size.Large" Color="Color.Primary" Class="mb-2" />
                                <MudText Typo="Typo.h6">1. Access User Menu</MudText>
                                <MudText Typo="Typo.body2">Click on your profile picture or initials in the navigation menu.</MudText>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                    <MudItem xs="12" sm="6" md="3">
                        <MudCard Elevation="2" Class="h-100">
                            <MudCardContent Class="text-center">
                                <MudIcon Icon="@Icons.Material.Filled.SwapHoriz" Size="Size.Large" Color="Color.Primary" Class="mb-2" />
                                <MudText Typo="Typo.h6">2. Switch Account</MudText>
                                <MudText Typo="Typo.body2">Click on "Switch Account" from the dropdown menu.</MudText>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                    <MudItem xs="12" sm="6" md="3">
                        <MudCard Elevation="2" Class="h-100">
                            <MudCardContent Class="text-center">
                                <MudIcon Icon="@Icons.Material.Filled.PersonSearch" Size="Size.Large" Color="Color.Primary" Class="mb-2" />
                                <MudText Typo="Typo.h6">3. Choose Account</MudText>
                                <MudText Typo="Typo.body2">Select the correct Microsoft account that has Azure DevOps access.</MudText>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                    <MudItem xs="12" sm="6" md="3">
                        <MudCard Elevation="2" Class="h-100">
                            <MudCardContent Class="text-center">
                                <MudIcon Icon="@Icons.Material.Filled.VerifiedUser" Size="Size.Large" Color="Color.Primary" Class="mb-2" />
                                <MudText Typo="Typo.h6">4. Verify Access</MudText>
                                <MudText Typo="Typo.body2">Confirm you can access your projects and work items.</MudText>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                </MudGrid>
            </MudPaper>

            <MudAlert Severity="Severity.Success" Class="mt-4">
                <MudText Typo="Typo.body2">
                    <strong>Tip:</strong> Make sure your work/school account has been granted access to the Azure DevOps organization and that the organization is configured with Azure Active Directory integration.
                </MudText>
            </MudAlert>
        </MudCardContent>
        <MudCardActions>
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Href="/switch-account">
                <MudIcon Icon="@Icons.Material.Filled.SwapHoriz" Class="me-2" />
                Switch Account Now
            </MudButton>
            <MudButton Variant="Variant.Text" Href="/">
                <MudIcon Icon="@Icons.Material.Filled.Home" Class="me-2" />
                Return to Dashboard
            </MudButton>
        </MudCardActions>
    </MudCard>
</MudContainer>